{{- $ctx := . -}}
{{- $curPage := .Page -}}
<link-button>
	<template shadowrootmode="open">
	{{- with .styleFile -}}
	{{- $css := resources.Get . }}
	{{- with $css -}}
		{{- if ne hugo.Environment "development" -}}
			{{- $css = . | resources.Minify | resources.Fingerprint }}
		<style integrity="{{ $css.Data.Integrity }}">
		{{ $css.Content | safeCSS }}
		</style>
		{{- else }}
		<style>
		{{ $css.Content | safeCSS }}
		</style>
		{{- end -}}
	{{- end -}}
{{- end }}
{{- with .scriptFile -}}
	{{- $js := resources.Match . }}
	{{- with $js -}}
		{{- if ne hugo.Environment "development" -}}
			{{- $js = . | minify | fingerprint }}
		<script integrity="{{ $js.Data.Integrity }}">
		{{ $js.Content | safeJS }}
		</script>
		{{- else }}
		<script>
		{{ $js.Content | safeJS }}
		</script>
		{{- end -}}
	{{- end -}}
{{- end }}
		<slot></slot>
	</template>
	{{ .link | safeHTML }}
</link-button>
